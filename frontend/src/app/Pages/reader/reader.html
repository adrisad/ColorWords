<div class="min-h-screen bg-gray-50">
  <!-- Header simple -->
  <header class="bg-white border-b">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <a routerLink="/" class="text-sm text-gray-600 hover:text-gray-900">← Volver</a>
      <h1 class="text-lg sm:text-xl font-semibold text-gray-900">Lectura y niveles</h1>
      <div></div>
    </div>
  </header>

  <main class="max-w-6xl mx-auto px-4 py-6 md:py-10">
    <!-- Leyenda -->
    <section class="mb-6">
      <div class="bg-white border rounded-2xl p-4 sm:p-5">
        <h2 class="font-semibold text-gray-900 mb-3">Niveles</h2>
        <ul class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm">
          <li class="flex items-center gap-2">
            <span class="underline decoration-4 decoration-blue-500 underline-offset-4">Nueva</span>
            <span class="text-gray-500">azul</span>
          </li>
          <li class="flex items-center gap-2">
            <span class="underline decoration-4 decoration-amber-400 underline-offset-4">Aprendido</span>
            <span class="text-gray-500">amarillo</span>
          </li>
          <li class="flex items-center gap-2">
            <span class="underline decoration-4 decoration-green-500 underline-offset-4">Conocida</span>
            <span class="text-gray-500">verde</span>
          </li>
          <li class="flex items-center gap-2">
            <span class="underline decoration-4 decoration-stone-700 underline-offset-4">Maestría</span>
            <span class="text-gray-500">café</span>
          </li>
        </ul>
        <p class="mt-3 text-xs text-gray-500">
          Haz <span class="font-medium text-gray-700">click</span> sobre una palabra para cambiar su nivel (cicla por los cuatro estados).
        </p>
      </div>
    </section>

    <!-- Texto completo con palabras clicables -->
    <section class="bg-white border rounded-2xl p-4 sm:p-6 leading-relaxed text-gray-900">
      <p class="text-base sm:text-lg">
        <ng-container *ngFor="let token of tokens; index as i">
          <!-- Si es palabra, se puede clickear para cambiar nivel -->
          <button
            *ngIf="isWord(token); else plain"
            type="button"
            class="transition-colors hover:bg-indigo-50 rounded px-0.5"
            [ngClass]="levelClass(i)"
            (click)="cycleLevel(i)"
            (keydown.enter)="cycleLevel(i)"
            tabindex="0"
            aria-label="Cambiar nivel de palabra"
          >
            {{ token }}
          </button>
          <!-- separadores (espacios/puntuación) se imprimen tal cual -->
          <ng-template #plain>{{ token }}</ng-template>
        </ng-container>
      </p>
    </section>

    <!-- Barra inferior (opcional) -->
    <section class="mt-6 flex flex-col sm:flex-row gap-3 sm:items-center">
      <div class="text-sm text-gray-600">
        Palabras: {{ wordCount }} · Marcadas: {{ markedCount }}
      </div>

      <div class="sm:ml-auto flex gap-2">
        <button class="px-3 py-2 rounded-xl border border-gray-200 bg-white text-sm hover:bg-gray-50"
                (click)="levels = {}">
          Limpiar niveles
        </button>
        <button class="px-3 py-2 rounded-xl bg-indigo-600 text-white text-sm hover:bg-indigo-700">
          Continuar
        </button>
      </div>
    </section>
  </main>
</div>
